<!-- show an example of what the data looks like -->
<!-- link to login / register to use -->
<!-- can see this page whether logged in or not -->

{% extends "base.html" %}

{% block title %}
<title>WHO Mortality Database</title>
{% endblock %}

{% block main %}
<main>
    <div class="container mt-3">

        <div class="row">
            <div class="col-sm">
                <!-- text describing the project, return json or use online queries to make charts, return json -->
                <span id="test">Message from server:</span>
                {% for message in get_flashed_messages() %}
                {{ message }}
                {% endfor %}
            </div>
        </div>

        <div class="row">
            <div class="col-sm" id="chartExampleImg">
                <img src="..." class="img-fluid" alt="Responsive image">
            </div>
            <div>
                <!-- text explaining how to use charts and visualize data as population adjusted or raw -->
            </div>
        </div>

        <div class="row">
            <div>
                <!-- text about helper apis so users can find other data to help them generate custom queries -->
            </div>
            <div class="col-sm">
                <!-- cards with description of icd-10, icd-10 list, sex, admin, subdiv, population -->
                <!-- each card has a link that goes to codes pages but has different text. selects thing on codes pages they were looking for -->
            </div>
        </div>

        <div class="row">
            <div class="col-sm">
                <!-- link to doc and text saying "find out more about sending custom queries to the api in the docs" -->
            </div>
        </div>

        <div class="row">
            <div class="col-sm">
                <!-- for more detail on how the api works, check the github page (link) -->
            </div>
        </div>

        <div class="row">
            <div class="col-sm">
                <!-- call to action to login or sign up in order to get your API key -->
            </div>
        </div>

    </div>
</main>

<script>

    var test = document.querySelector('#test');

    function myFun() {
        // document.write("{{ message }}"); example of using flask variables

        $.get('/api/age-format/08', function (returnedData) {
            test.innerHTML = "clicked"
            alert((returnedData));
        });

        // alert(("{\"age_format_code\": \"08\", \"pop10\": \"empty10\", \"pop11\": \"25-34\", \"pop12\": \"empty12\", \"pop13\": \"35-44\", \"pop14\": \"empty14\", \"pop15\": \"45-54\", \"pop16\": \"empty16\", \"pop17\": \"55-64\", \"pop18\": \"empty18\", \"pop19\": \"65+\", \"pop2\": \"0\", \"pop20\": \"empty20\", \"pop21\": \"empty21\", \"pop22\": \"empty22\", \"pop23\": \"empty23\", \"pop24\": \"empty24\", \"pop25\": \"empty25\", \"pop26\": \"Unknown\", \"pop3\": \"1-4\", \"pop4\": \"empty4\", \"pop5\": \"empty5\", \"pop6\": \"empty6\", \"pop7\": \"5-14\", \"pop8\": \"empty8\", \"pop9\": \"15-24\"}"))

    }
    test.addEventListener('click', myFun);

</script>


{% endblock %}